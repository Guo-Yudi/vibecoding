# vibecoding

使用python+opencv实现一个命令行程序，实现在图片上添加水印的功能，有以下要求：
1. 用户输入一个图片文件路径。
2. 读取该路径下所有文件的 exif 信息中的拍摄时间信息，选取年月日，作为水印。
3. 用户可以设置字体大小、颜色和在图片上的位置（例如，左上角、居中、右下角）。
4. 程序将文本水印绘制到图片上，并保存为新的图片文件，将新的图片文件保存在原目录watermark的新目录save下。

## 程序功能总结

该程序是一个交互式的命令行工具，用于向图片添加文本水印。主要功能如下：

- **交互式参数输入**：运行程序后，用户将被引导输入图片路径、水印字体大小、颜色和位置，无需通过命令行参数。
- **自动提取拍摄日期**：程序会尝试从图片的EXIF信息中读取拍摄日期（年月日），并将其作为水印内容。如果无法获取，则使用当前日期作为备选。
- **灵活的水印定制**：
    - **字体大小**：用户可以自定义水印文字的大小。
    - **颜色**：支持以B,G,R格式（例如 `255,0,0` 代表蓝色）自定义水印颜色。
    - **位置**：水印可以放置在图片的左上角、居中或右下角。
- **智能文件保存**：
    - 水印处理后的图片将保存在原图片所在目录下的 `save` 文件夹中。
    - 如果 `save` 文件夹中已存在同名文件，程序会自动在文件名后添加数字编号（如 `image(1).jpg`），以避免覆盖现有文件。

### 如何使用

1.  **安装依赖**:
    ```bash
    pip install -r requirements.txt
    ```
2.  **运行程序**:
    ```bash
    python watermark/watermark.py
    ```
3.  根据提示输入所需参数。